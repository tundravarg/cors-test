<html>

<head>
    <title>Test CORS</title>
    <script src="lib/jquery.js"></script>
</head>

<body>
    <h1>Test CORS</h1>

    <div id="app">
        <div>
            <input id="request-static" type="button" value="Static">
            <input id="request-static-err" type="button" value="Static Err">
        </div>
        <div id="response"></div>
    </div>

    <script>
        $().ready(() => {});

        function doRequest(url) {
            function setResponse(response) {
                $('#response').html(response);
            }
            $.get(url)
                .done(data => {
                    setResponse(data);
                })
                .fail((jqXHR, error) => {
                    setResponse(`ERROR: ${jqXHR.status}, ${error}`);
                });
        }

        function handleRequest(selector, url) {
            $(selector).on('click', () => doRequest(url));
        }

        handleRequest('#request-static', 'static-answer.txt');
        handleRequest('#request-static-err', 'static-answer-err.txt');
    </script>
</body>